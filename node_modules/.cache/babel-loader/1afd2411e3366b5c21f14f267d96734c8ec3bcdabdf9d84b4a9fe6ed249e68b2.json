{"ast":null,"code":"import _slicedToArray from\"D:/WebD/React/Selling Platform/kgpsellex/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useEffect}from\"react\";import Navbar from\"./components/Navbar\";import\"./BuyPage.css\";import{initializeApp}from\"firebase/app\";import{getDatabase,ref as databaseRef,child,get,onValue}from\"firebase/database\";import SellCards from\"./components/SellCards\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var firebaseConfig={apiKey:\"AIzaSyCMM56fnkSA1P5p4b6plQso_3001MpEEYI\",authDomain:\"kgpsellex.firebaseapp.com\",projectId:\"kgpsellex\",storageBucket:\"kgpsellex.appspot.com\",messagingSenderId:\"750261842834\",appId:\"1:750261842834:web:309fb0919f637e0932074b\",measurementId:\"G-ZTC4HQ2M0V\"};// Initialize Firebase\ninitializeApp(firebaseConfig);function BuyPage(){var db=getDatabase();var dbRef=databaseRef(getDatabase());var _useState=useState([]),_useState2=_slicedToArray(_useState,2),dataObj=_useState2[0],setDataObj=_useState2[1];var fetchItems=function fetchItems(){onValue(databaseRef(db,'items/'),function(snapshot){setDataObj(Object.values(snapshot.val()));});};// const fetchData = () => {\n//   get(child(dbRef, `items/`))\n//     .then((snapshot) => {\n//       if (snapshot.exists()) {\n//         const dataArray = Object.values(snapshot.val());\n//       //   console.log(data);\n//         setDataObj(dataArray);\n//       //   console.log(rollNoArray)\n//       } else {\n//         alert(\"No data to display!\");\n//       }\n//     })\n//     .catch((error) => {\n//       alert(\"Some error occured! Please try again later.\");\n//     });\n// };\nuseEffect(function(){fetchItems();// console.log(\"hello\");\n},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),dataObj.map(function(item,key){return/*#__PURE__*/_jsx(SellCards,{seller:item.username,rollno:item.rollno,hall:item.hall,email:item.email,phno:item.phno,pdtype:item.product,descp:item.descp,price:item.amt,status:item.status},key);})]});}export default BuyPage;","map":{"version":3,"names":["React","useState","useEffect","Navbar","initializeApp","getDatabase","ref","databaseRef","child","get","onValue","SellCards","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","BuyPage","db","dbRef","_useState","_useState2","_slicedToArray","dataObj","setDataObj","fetchItems","snapshot","Object","values","val","children","map","item","key","seller","username","rollno","hall","email","phno","pdtype","product","descp","price","amt","status"],"sources":["D:/WebD/React/Selling Platform/kgpsellex/src/BuyPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport \"./BuyPage.css\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getDatabase, ref as databaseRef, child, get, onValue } from \"firebase/database\";\r\nimport SellCards from \"./components/SellCards\";\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCMM56fnkSA1P5p4b6plQso_3001MpEEYI\",\r\n  authDomain: \"kgpsellex.firebaseapp.com\",\r\n  projectId: \"kgpsellex\",\r\n  storageBucket: \"kgpsellex.appspot.com\",\r\n  messagingSenderId: \"750261842834\",\r\n  appId: \"1:750261842834:web:309fb0919f637e0932074b\",\r\n  measurementId: \"G-ZTC4HQ2M0V\",\r\n};\r\n\r\n// Initialize Firebase\r\ninitializeApp(firebaseConfig);\r\n\r\nfunction BuyPage() {\r\n  const db = getDatabase();\r\n  const dbRef = databaseRef(getDatabase());\r\n\r\n  const [dataObj, setDataObj] = useState([]);\r\n \r\n\r\n  const fetchItems = () => {\r\n    onValue(databaseRef(db, 'items/'),(snapshot) => {\r\n      setDataObj(Object.values(snapshot.val()));\r\n    });\r\n  }\r\n\r\n  // const fetchData = () => {\r\n  //   get(child(dbRef, `items/`))\r\n  //     .then((snapshot) => {\r\n  //       if (snapshot.exists()) {\r\n  //         const dataArray = Object.values(snapshot.val());\r\n  //       //   console.log(data);\r\n  //         setDataObj(dataArray);\r\n  //       //   console.log(rollNoArray)\r\n  //       } else {\r\n  //         alert(\"No data to display!\");\r\n  //       }\r\n  //     })\r\n  //     .catch((error) => {\r\n  //       alert(\"Some error occured! Please try again later.\");\r\n  //     });\r\n\r\n  // };\r\n  useEffect(() => {\r\n    fetchItems();\r\n    // console.log(\"hello\");\r\n  }, []);\r\n\r\n\r\n  return (\r\n    \r\n    <>\r\n      <Navbar />\r\n      {\r\n        dataObj.map((item, key)=>{\r\n            return(\r\n                <SellCards key={key} seller={item.username} rollno={item.rollno} hall={item.hall} email={item.email} phno={item.phno} pdtype={item.product} descp={item.descp} price={item.amt} status={item.status}/>\r\n            );\r\n            \r\n        })\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BuyPage;\r\n"],"mappings":"8HAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,SAAS,KAAQ,OAAO,CACjC,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,eAAe,CACtB,OAASC,aAAa,KAAQ,cAAc,CAC5C,OAASC,WAAW,CAAEC,GAAG,GAAI,CAAAC,WAAW,CAAEC,KAAK,CAAEC,GAAG,CAAEC,OAAO,KAAQ,mBAAmB,CACxF,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAG/C,GAAM,CAAAC,cAAc,CAAG,CACrBC,MAAM,CAAE,yCAAyC,CACjDC,UAAU,CAAE,2BAA2B,CACvCC,SAAS,CAAE,WAAW,CACtBC,aAAa,CAAE,uBAAuB,CACtCC,iBAAiB,CAAE,cAAc,CACjCC,KAAK,CAAE,2CAA2C,CAClDC,aAAa,CAAE,cACjB,CAAC,CAED;AACArB,aAAa,CAACc,cAAc,CAAC,CAE7B,QAAS,CAAAQ,OAAOA,CAAA,CAAG,CACjB,GAAM,CAAAC,EAAE,CAAGtB,WAAW,CAAC,CAAC,CACxB,GAAM,CAAAuB,KAAK,CAAGrB,WAAW,CAACF,WAAW,CAAC,CAAC,CAAC,CAExC,IAAAwB,SAAA,CAA8B5B,QAAQ,CAAC,EAAE,CAAC,CAAA6B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAG1B,GAAM,CAAAI,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvBxB,OAAO,CAACH,WAAW,CAACoB,EAAE,CAAE,QAAQ,CAAC,CAAC,SAACQ,QAAQ,CAAK,CAC9CF,UAAU,CAACG,MAAM,CAACC,MAAM,CAACF,QAAQ,CAACG,GAAG,CAAC,CAAC,CAAC,CAAC,CAC3C,CAAC,CAAC,CACJ,CAAC,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACApC,SAAS,CAAC,UAAM,CACdgC,UAAU,CAAC,CAAC,CACZ;AACF,CAAC,CAAE,EAAE,CAAC,CAGN,mBAEEjB,KAAA,CAAAF,SAAA,EAAAwB,QAAA,eACE1B,IAAA,CAACV,MAAM,GAAE,CAAC,CAER6B,OAAO,CAACQ,GAAG,CAAC,SAACC,IAAI,CAAEC,GAAG,CAAG,CACrB,mBACI7B,IAAA,CAACF,SAAS,EAAWgC,MAAM,CAAEF,IAAI,CAACG,QAAS,CAACC,MAAM,CAAEJ,IAAI,CAACI,MAAO,CAACC,IAAI,CAAEL,IAAI,CAACK,IAAK,CAACC,KAAK,CAAEN,IAAI,CAACM,KAAM,CAACC,IAAI,CAAEP,IAAI,CAACO,IAAK,CAACC,MAAM,CAAER,IAAI,CAACS,OAAQ,CAACC,KAAK,CAAEV,IAAI,CAACU,KAAM,CAACC,KAAK,CAAEX,IAAI,CAACY,GAAI,CAACC,MAAM,CAAEb,IAAI,CAACa,MAAO,EAApLZ,GAAqL,CAAC,CAG9M,CAAC,CAAC,EAEJ,CAAC,CAEP,CAEA,cAAe,CAAAhB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}